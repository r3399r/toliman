{"version":3,"sources":["pages/test/Test.module.scss","pages/test/Test.tsx","services/questionService.ts","../node_modules/better-react-mathjax/esm/MathJax/MathJax.js"],"names":["module","exports","Test","addDefaultSrc","ev","target","src","displayQuestion","id","i","height","q","getQuestion","undefined","style","paddingBottom","hasImage","className","img","alt","role","onError","text","question","imageOption","map","v","j","content","questionsByKey","getAllQuestions","lodash","keyBy","bank","getQuestions","ids","allQuestions","__assign","Object","assign","t","e","n","r","arguments","length","prototype","hasOwnProperty","call","apply","this","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","typesettingFailed","concat","message","toString","MathJax","h","m","f","current","visibility","p","_","o","b","inline","hideUntilTypeset","onInitTypeset","onTypeset","s","u","dynamic","a","typesettingOptions","l","renderMode","c","children","y","useRef","d","useContext","MathJaxBaseContext","g","window","useLayoutEffect","useEffect","Error","fn","version","promise","then","startup","document","clear","updateDocument","innerHTML","outerHTML","endsWith","options","display","catch","typesetClear","typesetPromise","Hub","Queue","React","createElement","ref"],"mappings":"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","file":"static/js/58.ce48f6c6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Test_content__2o1Bz\",\"ans\":\"Test_ans__iavsk\",\"img\":\"Test_img__o_xgc\",\"imageOption\":\"Test_imageOption__1PrkE\"};","import { MathJax } from 'better-react-mathjax';\nimport { ChangeEvent } from 'react';\nimport Textarea2MathJax from 'src/component/Textarea2MathJax';\nimport { Question } from 'src/model/bank';\nimport { getQuestion } from 'src/services/questionService';\nimport style from './Test.module.scss';\n\nconst Test = () => {\n  const addDefaultSrc = (ev: ChangeEvent<HTMLImageElement>) => {\n    ev.target.src = '/toliman/images/09.PNG';\n  };\n\n  const displayQuestion = (id: string, i: number, height: string = '3cm') => {\n    const q: Question | undefined = getQuestion(id);\n    if (q === undefined) return <div key={`error${i}`}>ERROR! id of {i} does not exists</div>;\n\n    return (\n      <div key={q.id} style={{ paddingBottom: height }}>\n        {q.hasImage === true && (\n          <img\n            className={style.img}\n            src={`/toliman/images/${q.id}.PNG`}\n            alt=\"\"\n            role=\"presentation\"\n            onError={addDefaultSrc}\n          />\n        )}\n        <Textarea2MathJax text={`${i}. ${q.question}`} />\n        {q.imageOption !== undefined && (\n          <div className={style.imageOption}>\n            {q.imageOption.map((v: string, j: number) => {\n              return (\n                <div key={`${q.question}-${j}`}>\n                  <div>{`(${j + 1})`}</div>\n                  <div>\n                    <img\n                      src={`/toliman/images/${v}.PNG`}\n                      alt=\"\"\n                      role=\"presentation\"\n                      onError={addDefaultSrc}\n                    />\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  // <div style={{ pageBreakAfter: 'always' }} />\n\n  return (\n    <MathJax>\n      <div className={style.content}>\n        <h1>高二下第二次段考練習 A</h1>\n        <div>\n          <b>一、單選題</b>\n        </div>\n        {displayQuestion('1809a3dd105', 1)}\n        {displayQuestion('1809a408850', 2)}\n        {displayQuestion('1809a4534ba', 3)}\n        <div>\n          <b>二、多選題</b>\n        </div>\n        {displayQuestion('1809a477bd2', 4)}\n        {displayQuestion('1809a4a0b3e', 5)}\n        <div>\n          <b>三、計算題</b>\n        </div>\n        {displayQuestion('1809a4c3371', 6, '4cm')}\n        {displayQuestion('1809a51b463', 7)}\n        {displayQuestion('1809a531cd7', 8)}\n        {displayQuestion('1809a54e68e', 9)}\n        {displayQuestion('1809a56f461', 10)}\n        {displayQuestion('1809a599bb8', 11)}\n        {displayQuestion('1809a5c302f', 12)}\n        {displayQuestion('1794b4a21c2', 13)}\n      </div>\n    </MathJax>\n  );\n};\n\nexport default Test;\n","import lodash from 'lodash';\nimport { bank, Question } from 'src/model/bank';\n\nlet questionsByKey: { [key: string]: Question };\n\nexport const getAllQuestions = (): { [key: string]: Question } => {\n  if (questionsByKey === undefined) questionsByKey = lodash.keyBy(bank, 'id');\n\n  return questionsByKey;\n};\n\nexport const getQuestion = (id: string): Question | undefined => {\n  const allQuestions = getAllQuestions();\n\n  return allQuestions[id];\n};\n\nexport const getQuestions = (ids: string[]): Question[] => {\n  const allQuestions = getAllQuestions();\n\n  return ids.map((id: string) => allQuestions[id]);\n};\n","var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};import React,{useContext,useEffect,useLayoutEffect,useRef}from\"react\";import{MathJaxBaseContext}from\"../MathJaxContext\";var typesettingFailed=function(t){return\"Typesetting failed: \".concat(void 0!==t.message?t.message:t.toString())},MathJax=function(t){function r(){var t;\"every\"===h&&m&&\"post\"===v&&null!==f.current&&(f.current.style.visibility=null!=(t=null==(t=p.style)?void 0:t.visibility)?t:\"visible\"),_.current||(\"first\"===h&&null!==f.current&&(f.current.style.visibility=\"visible\"),n&&n(),_.current=!0),o&&o(),b.current=!1}var e=t.inline,i=void 0!==e&&e,e=t.hideUntilTypeset,n=t.onInitTypeset,o=t.onTypeset,s=t.text,u=t.dynamic,a=t.typesettingOptions,l=t.renderMode,c=t.children,p=__rest(t,[\"inline\",\"hideUntilTypeset\",\"onInitTypeset\",\"onTypeset\",\"text\",\"dynamic\",\"typesettingOptions\",\"renderMode\",\"children\"]),y=useRef(\"\"),f=useRef(null),d=useContext(MathJaxBaseContext),h=null!=e?e:null==d?void 0:d.hideUntilTypeset,v=null!=l?l:null==d?void 0:d.renderMode,g=null!=a?a:null==d?void 0:d.typesettingOptions,m=!1!==u&&(u||\"production\"!==process.env.NODE_ENV),_=useRef(!1),b=useRef(!1);return!b.current&&null!==f.current&&m&&\"every\"===h&&\"post\"===v&&(f.current.style.visibility=\"hidden\"),(\"undefined\"!=typeof window?useLayoutEffect:useEffect)(function(){if((m||!_.current)&&null!==f.current){if(!d)throw Error(\"MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?\");if(\"pre\"===v){if(!(\"string\"==typeof(t=s)&&0<t.length))throw Error(\"Render mode 'pre' requires text prop to be set and non-empty, which was currently \\\"\".concat(s,'\"'));if(!a||!a.fn)throw Error(\"Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext\");if(2===d.version)throw Error(\"Render mode 'pre' only available with MathJax 3, and version 2 is currently in use\")}\"post\"!==v&&s===y.current||b.current||(b.current=!0,3===d.version?d.promise.then(function(e){var n;\"pre\"===v?(n=function(t){y.current=s,e.startup.document.clear(),e.startup.document.updateDocument(),null!==f.current&&(f.current.innerHTML=t.outerHTML),r()},a.fn.endsWith(\"Promise\")?e.startup.promise.then(function(){return e[g.fn](s,__assign(__assign({},(null==g?void 0:g.options)||{}),{display:!i}))}).then(n).catch(function(t){throw r(),Error(typesettingFailed(t))}):e.startup.promise.then(function(){var t=e[g.fn](s,__assign(__assign({},(null==g?void 0:g.options)||{}),{display:!i}));n(t)}).catch(function(t){throw r(),Error(typesettingFailed(t))})):e.startup.promise.then(function(){return e.typesetClear([f.current]),e.typesetPromise([f.current])}).then(r).catch(function(t){throw r(),Error(typesettingFailed(t))})}).catch(function(t){throw r(),Error(typesettingFailed(t))}):d.promise.then(function(t){t.Hub.Queue([\"Typeset\",t.Hub,f.current]),t.Hub.Queue(r)}).catch(function(t){throw r(),Error(typesettingFailed(t))}))}var t}),React.createElement(\"span\",__assign({},p,{style:__assign(__assign({display:i?\"inline\":\"block\"},p.style),{visibility:h?\"hidden\":null==(t=p.style)?void 0:t.visibility}),ref:f}),c)};export default MathJax;"],"sourceRoot":""}