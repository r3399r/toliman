{"version":3,"sources":["pages/edit/Edit.module.scss","pages/edit/Edit.tsx"],"names":["module","exports","Home","useState","message","setMessage","randomId","setRandomId","chapter","setChapter","question","setQuestion","answer","setAnswer","hasImage","setHasImage","useEffect","Date","now","toString","result","id","className","style","content","fullWidth","placeholder","onChange","ev","inputJSON","target","value","res","JSON","parse","undefined","e","row","val","chapterList","map","v","i","control","size","label","multiline","checked","onClick","preview","ans","stringify","text","onCopy","options","format","variant","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal"],"mappings":"wFACAA,EAAOC,QAAU,CAAC,QAAU,sBAAsB,EAAI,gBAAgB,IAAM,kBAAkB,QAAU,sBAAsB,MAAQ,sB,4KCqIvHC,UAvHF,WACX,MAA8BC,qBAA9B,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAgCF,mBAAiB,IAAjD,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAA8BJ,mBAAiB,IAA/C,mBAAOK,EAAP,KAAgBC,EAAhB,KACA,EAAgCN,mBAAiB,IAAjD,mBAAOO,EAAP,KAAiBC,EAAjB,KACA,EAA4BR,mBAAiB,IAA7C,mBAAOS,EAAP,KAAeC,EAAf,KAEA,EAAgCV,oBAAkB,GAAlD,mBAAOW,EAAP,KAAiBC,EAAjB,KAEAC,qBAAU,WACRT,EAAYU,KAAKC,MAAMC,SAAS,OAC/B,CAACT,EAAUE,IAEd,IA6CMQ,EAAmB,CAAEC,GAAIf,EAAUE,UAASE,WAAUE,SAAQE,YAEpE,OACE,qCACE,sBAAKQ,UAAWC,IAAMC,QAAtB,UACE,+CACA,cAAC,IAAD,CAAWC,WAAW,EAAMC,YAAY,mBAASC,SAnDpC,SAACC,GAClB,IACE,IAAMC,EAAoBD,EAAGE,OAAOC,MAC9BC,EAAgBC,KAAKC,MAAML,QAGdM,IAAjBH,EAAItB,eACayB,IAAjBH,EAAItB,eACWyB,IAAfH,EAAIpB,aACauB,IAAjBH,EAAIlB,UAEJT,EAAW,4BACbI,EAAWuB,EAAIxB,SACfG,EAAYqB,EAAItB,UAChBG,EAAUmB,EAAIpB,QACdG,EAAYiB,EAAIlB,UAChB,MAAOsB,GACP/B,EAAW,gCAmCT,+CACA,cAAC,IAAD,CAAYgC,KAAK,EAAMN,MAAOvB,EAASmB,SAhCtB,SAACW,GACtB7B,EAAW6B,EAAIR,OAAOC,QA+BlB,gBACGQ,UADH,IACGA,SADH,EACGA,IAAaC,KAAI,SAACC,EAAWC,GAAZ,OAChB,cAAC,IAAD,CAA0BX,MAAOU,EAAGE,QAAS,cAAC,IAAD,CAAOC,KAAK,UAAYC,MAAOJ,GAArDC,QAG3B,+CACA,cAAC,IAAD,CACEhB,YAAY,2BACZoB,WAAW,EACXrB,WAAW,EACXE,SAtCoB,SAACC,GAC3BjB,EAAYiB,EAAGE,OAAOC,QAsChBA,MAAOrB,IAET,+CACA,cAAC,IAAD,CACEoC,WAAW,EACXrB,WAAW,EACXC,YAAY,2BACZC,SA1CkB,SAACC,GACzBf,EAAUe,EAAGE,OAAOC,QA0CdA,MAAOnB,IAET,cAAC,IAAD,CACE+B,QAAS,cAAC,IAAD,CAAUtB,GAAG,WAAW0B,QAASjC,EAAUkC,QA1CpC,WACtBjC,GAAaD,MA0CP+B,MAAM,6BAER,uBACA,eAAC,IAAD,CAASvB,UAAWC,IAAM0B,QAA1B,UACGvC,GAAY,8BAAMA,IAClBE,GAAU,qBAAKU,UAAWC,IAAM2B,IAAtB,SAA4B,QAAUtC,OAEnD,uBACA,8BAAMqB,KAAKkB,UAAU/B,KACrB,8BACE,cAAC,kBAAD,CACEgC,KAAMnB,KAAKkB,UAAU/B,GACrBiC,OAnDK,WACbhD,EAAW,uBAmDHiD,QAAS,CAAEC,OAAQ,cAHrB,SAKE,cAAC,IAAD,CAAQC,QAAQ,YAAhB,6CAIN,cAAC,IAAD,CACEC,UAAkBtB,IAAZ/B,EACNsD,iBAAkB,IAClBC,QAzDU,WACdtD,OAAW8B,IAyDP/B,QAASA,EACTwD,aAAc,CAAEC,SAAU,MAAOC,WAAY","file":"static/js/64.431660d0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Edit_content__1MQdD\",\"q\":\"Edit_q__16Dh0\",\"ans\":\"Edit_ans__j6Rmd\",\"preview\":\"Edit_preview__1NlAG\",\"image\":\"Edit_image__2fkC3\"};","import {\n  Button,\n  Checkbox,\n  FormControlLabel,\n  Radio,\n  RadioGroup,\n  Snackbar,\n  TextField,\n} from '@mui/material';\nimport { MathJax } from 'better-react-mathjax';\nimport { ChangeEvent, useEffect, useState } from 'react';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { chapterList, Question } from 'src/model/bank';\nimport style from './Edit.module.scss';\n\nconst Home = () => {\n  const [message, setMessage] = useState<string>();\n  const [randomId, setRandomId] = useState<string>('');\n  const [chapter, setChapter] = useState<string>('');\n  const [question, setQuestion] = useState<string>('');\n  const [answer, setAnswer] = useState<string>('');\n\n  const [hasImage, setHasImage] = useState<boolean>(false);\n\n  useEffect(() => {\n    setRandomId(Date.now().toString(16));\n  }, [question, answer]);\n\n  const handleEdit = (ev: ChangeEvent<HTMLInputElement>) => {\n    try {\n      const inputJSON: string = ev.target.value;\n      const res: Question = JSON.parse(inputJSON);\n\n      if (\n        res.question === undefined ||\n        res.question === undefined ||\n        res.answer === undefined ||\n        res.hasImage === undefined\n      )\n        setMessage('格式不符');\n      setChapter(res.chapter);\n      setQuestion(res.question);\n      setAnswer(res.answer);\n      setHasImage(res.hasImage);\n    } catch (e) {\n      setMessage('格式不符');\n    }\n  };\n\n  const handleCheckbox = (val: ChangeEvent<HTMLInputElement>) => {\n    setChapter(val.target.value);\n  };\n\n  const handleQuestionEvent = (ev: ChangeEvent<HTMLInputElement>) => {\n    setQuestion(ev.target.value);\n  };\n\n  const handleAnswerEvent = (ev: ChangeEvent<HTMLInputElement>) => {\n    setAnswer(ev.target.value);\n  };\n\n  const onCheckboxClick = () => {\n    setHasImage(!hasImage);\n  };\n\n  const onCopy = () => {\n    setMessage('已複製');\n  };\n\n  const onClose = () => {\n    setMessage(undefined);\n  };\n\n  const result: Question = { id: randomId, chapter, question, answer, hasImage };\n\n  return (\n    <>\n      <div className={style.content}>\n        <div>修改</div>\n        <TextField fullWidth={true} placeholder=\"貼上JSON\" onChange={handleEdit} />\n        <div>章節</div>\n        <RadioGroup row={true} value={chapter} onChange={handleCheckbox}>\n          {chapterList?.map((v: string, i: number) => (\n            <FormControlLabel key={i} value={v} control={<Radio size=\"small\" />} label={v} />\n          ))}\n        </RadioGroup>\n        <div>題目</div>\n        <TextField\n          placeholder=\"輸入題目\"\n          multiline={true}\n          fullWidth={true}\n          onChange={handleQuestionEvent}\n          value={question}\n        />\n        <div>答案</div>\n        <TextField\n          multiline={true}\n          fullWidth={true}\n          placeholder=\"輸入答案\"\n          onChange={handleAnswerEvent}\n          value={answer}\n        />\n        <FormControlLabel\n          control={<Checkbox id=\"hasImage\" checked={hasImage} onClick={onCheckboxClick} />}\n          label=\"是否有圖\"\n        />\n        <hr />\n        <MathJax className={style.preview}>\n          {question && <div>{question}</div>}\n          {answer && <div className={style.ans}>{'Ans: ' + answer}</div>}\n        </MathJax>\n        <hr />\n        <div>{JSON.stringify(result)}</div>\n        <div>\n          <CopyToClipboard\n            text={JSON.stringify(result)}\n            onCopy={onCopy}\n            options={{ format: 'text/plain' }}\n          >\n            <Button variant=\"contained\">複製文字</Button>\n          </CopyToClipboard>\n        </div>\n      </div>\n      <Snackbar\n        open={message !== undefined}\n        autoHideDuration={3000}\n        onClose={onClose}\n        message={message}\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      />\n    </>\n  );\n};\n\nexport default Home;\n"],"sourceRoot":""}